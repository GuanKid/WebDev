{"ast":null,"code":"var _jsxFileName = \"C:\\\\Web Dev\\\\web dev project\\\\WebDev\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PatientCheckIn from './components/PatientCheckIn';\nimport Triage from './components/Triage';\nimport Dashboard from './components/Dashboard';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport { getAllPatients, createPatient, updatePatient, dischargePatient } from './api/patientApi';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [user, setUser] = useState(null);\n  const [showRegister, setShowRegister] = useState(false);\n  useEffect(() => {\n    if (user) {\n      fetchPatients();\n    }\n  }, [user]);\n  const fetchPatients = async () => {\n    try {\n      const patientsData = await getAllPatients();\n      setPatients(patientsData);\n    } catch (error) {\n      console.error('Error fetching patients:', error);\n    }\n  };\n  const handleCheckIn = async patientData => {\n    try {\n      const newPatient = await createPatient(patientData);\n      setPatients([...patients, newPatient]);\n    } catch (error) {\n      console.error('Error checking in patient:', error);\n    }\n  };\n  const handleTriage = async (id, triageLevel) => {\n    try {\n      const updatedPatient = await updatePatient(id, {\n        triageLevel\n      });\n      setPatients(patients.map(p => p._id === id ? updatedPatient : p));\n    } catch (error) {\n      console.error('Error triaging patient:', error);\n    }\n  };\n  const handleDischarge = async id => {\n    try {\n      const dischargedPatient = await dischargePatient(id);\n      setPatients(patients.map(p => p._id === id ? dischargedPatient : p));\n    } catch (error) {\n      console.error('Error discharging patient:', error);\n    }\n  };\n  const handleLogin = userData => {\n    setUser(userData.user);\n    localStorage.setItem('token', userData.token);\n  };\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem('token');\n  };\n  const handleRegister = () => {\n    setShowRegister(false);\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [showRegister ? /*#__PURE__*/_jsxDEV(Register, {\n        onRegister: handleRegister\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Login, {\n        onLogin: handleLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowRegister(!showRegister),\n        children: showRegister ? 'Back to Login' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hospital Management System\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome, \", user.username, \" (\", user.role, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(PatientCheckIn, {\n        onCheckIn: handleCheckIn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Triage, {\n        patients: patients,\n        onTriage: handleTriage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n        patients: patients,\n        onDischarge: handleDischarge\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"p9RlT23sw+seWpuyR95Xudx7POA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","PatientCheckIn","Triage","Dashboard","Login","Register","getAllPatients","createPatient","updatePatient","dischargePatient","jsxDEV","_jsxDEV","App","_s","patients","setPatients","user","setUser","showRegister","setShowRegister","fetchPatients","patientsData","error","console","handleCheckIn","patientData","newPatient","handleTriage","id","triageLevel","updatedPatient","map","p","_id","handleDischarge","dischargedPatient","handleLogin","userData","localStorage","setItem","token","handleLogout","removeItem","handleRegister","className","children","onRegister","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","onClick","username","role","onCheckIn","onTriage","onDischarge","_c","$RefreshReg$"],"sources":["C:/Web Dev/web dev project/WebDev/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PatientCheckIn from './components/PatientCheckIn';\r\nimport Triage from './components/Triage';\r\nimport Dashboard from './components/Dashboard';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport { getAllPatients, createPatient, updatePatient, dischargePatient } from './api/patientApi';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [patients, setPatients] = useState([]);\r\n  const [user, setUser] = useState(null);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchPatients();\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchPatients = async () => {\r\n    try {\r\n      const patientsData = await getAllPatients();\r\n      setPatients(patientsData);\r\n    } catch (error) {\r\n      console.error('Error fetching patients:', error);\r\n    }\r\n  };\r\n\r\n  const handleCheckIn = async (patientData) => {\r\n    try {\r\n      const newPatient = await createPatient(patientData);\r\n      setPatients([...patients, newPatient]);\r\n    } catch (error) {\r\n      console.error('Error checking in patient:', error);\r\n    }\r\n  };\r\n\r\n  const handleTriage = async (id, triageLevel) => {\r\n    try {\r\n      const updatedPatient = await updatePatient(id, { triageLevel });\r\n      setPatients(patients.map(p => p._id === id ? updatedPatient : p));\r\n    } catch (error) {\r\n      console.error('Error triaging patient:', error);\r\n    }\r\n  };\r\n\r\n  const handleDischarge = async (id) => {\r\n    try {\r\n      const dischargedPatient = await dischargePatient(id);\r\n      setPatients(patients.map(p => p._id === id ? dischargedPatient : p));\r\n    } catch (error) {\r\n      console.error('Error discharging patient:', error);\r\n    }\r\n  };\r\n\r\n  const handleLogin = (userData) => {\r\n    setUser(userData.user);\r\n    localStorage.setItem('token', userData.token);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem('token');\r\n  };\r\n\r\n  const handleRegister = () => {\r\n    setShowRegister(false);\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"App\">\r\n        {showRegister ? (\r\n          <Register onRegister={handleRegister} />\r\n        ) : (\r\n          <Login onLogin={handleLogin} />\r\n        )}\r\n        <button onClick={() => setShowRegister(!showRegister)}>\r\n          {showRegister ? 'Back to Login' : 'Register'}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header>\r\n        <h1>Hospital Management System</h1>\r\n        <p>Welcome, {user.username} ({user.role})</p>\r\n        <button onClick={handleLogout}>Logout</button>\r\n      </header>\r\n      <div className=\"app-container\">\r\n        <PatientCheckIn onCheckIn={handleCheckIn} />\r\n        <Triage patients={patients} onTriage={handleTriage} />\r\n        <Dashboard patients={patients} onDischarge={handleDischarge} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}